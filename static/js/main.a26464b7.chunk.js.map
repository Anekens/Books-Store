{"version":3,"sources":["components/BookCard.jsx","redux/reducers/cart.js","components/BookCardContainer.js","components/Filter.jsx","redux/reducers/filter.js","components/FilterContainer.js","components/Menu.jsx","components/MenuContainer.js","components/App.jsx","redux/reducers/books.js","components/AppContainer.js","redux/store.js","index.js"],"names":["BookCard","book","Card","className","Image","src","imageLink","Content","Header","title","Meta","author","extra","Icon","name","price","Button","onClick","addToCart","bind","addedCount","ADD_TO_CART","REMOVE_FROM_CART","initialState","items","obj","type","payload","removeFromCart","id","cartReducer","state","action","filter","o","connect","cart","reduce","count","Filter","setFilter","filterBy","searchQuery","setSearchQuery","Menu","secondary","Item","active","Input","icon","onChange","e","target","value","placeholder","SET_QUERY","SET_FILTER","filterReducer","CartComponent","List","selection","divided","verticalAlign","floated","color","avatar","MenuComponent","totalPrice","position","Popup","trigger","content","map","on","hideOnScroll","total","length","uniqBy","App","axios","get","then","res","props","setBooks","data","this","books","isReady","Container","Group","itemsPerRow","i","key","Component","SET_BOOKS","SET_IS_READY","booksReducer","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","reducers","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","logger","_store_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a26464b7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Card, Image, Icon, Button } from 'semantic-ui-react';\r\n\r\nconst BookCard = (book) => {\r\n   return (\r\n    <Card>\r\n      <div className=\"card-image\">\r\n        <Image src={book.imageLink} />\r\n      </div>\r\n      <Card.Content>\r\n        <Card.Header>{book.title}</Card.Header>\r\n        <Card.Meta>\r\n          <span className=\"date\">{book.author}</span>\r\n        </Card.Meta>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n        <a>\r\n          <Icon name=\"dollar\" />\r\n          {book.price}\r\n        </a>\r\n      </Card.Content>\r\n      <Button onClick={book.addToCart.bind(this, book)}>\r\n          Add to cart {book.addedCount > 0 && `(${book.addedCount})`}\r\n      </Button>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BookCard;\r\n","const ADD_TO_CART = 'BooksStore/redux/reducers/ADD-TO-CART';\r\nconst REMOVE_FROM_CART = 'BooksStore/redux/reducers/REMOVE-FROM-CART';\r\n\r\n\r\nconst initialState = {\r\n    items: []\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                items: [...state.items, action.payload]\r\n            };\r\n        case REMOVE_FROM_CART:\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(o => o.id !== action.payload)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const addToCart = obj => ({\r\n    type: ADD_TO_CART,\r\n    payload: obj,\r\n});\r\n\r\nexport const removeFromCart = id => ({\r\n    type: REMOVE_FROM_CART,\r\n    payload: id,\r\n});\r\n\r\nexport default cartReducer\r\n\r\n","import {connect} from 'react-redux';\r\nimport BookCard from './BookCard';\r\nimport {addToCart} from \"../redux/reducers/cart\";\r\nimport {removeFromCart} from \"../redux/reducers/cart\";\r\n\r\nconst mapStateToProps = ({cart}, {id}) => ({\r\n    addedCount: cart.items.reduce((count, book) => count + (book.id === id ? 1 : 0), 0),\r\n});\r\n\r\nexport default connect(mapStateToProps, {addToCart, removeFromCart})(BookCard);\r\n","import React from 'react';\r\nimport {Input, Menu} from 'semantic-ui-react';\r\n\r\nconst Filter = ({setFilter, filterBy, searchQuery, setSearchQuery}) => (\r\n    <Menu secondary>\r\n        <Menu.Item\r\n            active={filterBy === 'all'}\r\n            onClick={setFilter.bind(this, 'all')}>\r\n            All\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === 'price_high'}\r\n            onClick={setFilter.bind(this, 'price_high')}>\r\n            Price (high)\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === 'price_low'}\r\n            onClick={setFilter.bind(this, 'price_low')}>\r\n            Price (low)\r\n        </Menu.Item>\r\n        <Menu.Item\r\n            active={filterBy === 'author'}\r\n            onClick={setFilter.bind(this, 'author')}>\r\n            Author\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n            <Input\r\n                icon=\"search\"\r\n                onChange={e => setSearchQuery(e.target.value)}\r\n                value={searchQuery}\r\n                placeholder=\"Search...\"\r\n            />\r\n        </Menu.Item>\r\n    </Menu>\r\n);\r\n\r\nexport default Filter;\r\n","const SET_QUERY = 'BooksStore/redux/reducers/SET-QUERY';\r\nconst SET_FILTER = 'BooksStore/redux/reducers/SET-FILTER';\r\n\r\nconst initialState = {\r\n  searchQuery: '',\r\n  filterBy: 'all',\r\n};\r\n\r\nconst filterReducer =  (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_QUERY:\r\n      return {\r\n        ...state,\r\n        searchQuery: action.payload,\r\n      };\r\n    case SET_FILTER:\r\n      return {\r\n        ...state,\r\n        filterBy: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setFilter = filter => ({\r\n  type: SET_FILTER,\r\n  payload: filter,\r\n});\r\n\r\nexport const setSearchQuery = value => ({\r\n  type: SET_QUERY,\r\n  payload: value,\r\n});\r\n\r\n\r\nexport default filterReducer;\r\n\r\n","import {connect} from 'react-redux';\r\nimport Filter from './Filter';\r\nimport {setFilter, setSearchQuery} from \"../redux/reducers/filter\";\r\n\r\nconst mapStateToProps = ({filter}) => ({\r\n    filterBy: filter.filterBy,\r\n});\r\n\r\nexport default connect(mapStateToProps, {setFilter, setSearchQuery},)(Filter);\r\n","import React from \"react\";\r\nimport { Menu, Popup, List, Button, Image } from \"semantic-ui-react\";\r\n\r\nconst CartComponent = ({ title, id, imageLink, removeFromCart }) => (\r\n  <List selection divided verticalAlign=\"middle\">\r\n    <List.Item>\r\n      <List.Content floated=\"right\">\r\n        <Button onClick={removeFromCart.bind(this, id)} color=\"red\">\r\n          Remove\r\n        </Button>\r\n      </List.Content>\r\n      <Image avatar src={imageLink} />\r\n      <List.Content>{title}</List.Content>\r\n    </List.Item>\r\n  </List>\r\n);\r\n\r\nconst MenuComponent = ({ totalPrice, count, items }) => (\r\n  <Menu>\r\n    <Menu.Item name=\"browse\">Books Store</Menu.Item>\r\n\r\n    <Menu.Menu position=\"right\">\r\n      <Menu.Item name=\"signup\">\r\n        Total: &nbsp; <b>{totalPrice}</b>&nbsp;usd.\r\n      </Menu.Item>\r\n\r\n      <Popup\r\n        trigger={\r\n          <Menu.Item name=\"help\">\r\n            Cart (<b>{count}</b>)\r\n          </Menu.Item>\r\n        }\r\n        content={items.map(book => (\r\n          <CartComponent {...book} />\r\n        ))}\r\n        on=\"click\"\r\n        hideOnScroll\r\n      />\r\n    </Menu.Menu>\r\n  </Menu>\r\n);\r\n\r\nexport default MenuComponent;\r\n","import {connect} from 'react-redux';\r\nimport Menu from './Menu';\r\nimport uniqBy from 'lodash/uniqBy';\r\nimport {addToCart} from \"../redux/reducers/cart\";\r\nimport {removeFromCart} from \"../redux/reducers/cart\";\r\n\r\nconst mapStateToProps = ({cart}) => ({\r\n    totalPrice: cart.items.reduce((total, book) => total + book.price, 0),\r\n    count: cart.items.length,\r\n    items: uniqBy(cart.items, o => o.id),\r\n});\r\n\r\nexport default connect(mapStateToProps, {addToCart, removeFromCart})(Menu);\r\n","import React, { Component } from 'react';\r\nimport { Card, Container } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\nimport BookCard from './BookCardContainer';\r\nimport Filter from './FilterContainer';\r\nimport Menu from './MenuContainer';\r\n\r\nclass App extends Component {\r\n  componentWillMount() {\r\n      axios.get('https://github.com/PavelMilenki/BooksStore/blob/master/public/books.json')\r\n          .then(res => {\r\n          this.props.setBooks(res.data);\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { books, isReady } = this.props;\r\n    return (\r\n      <Container>\r\n        <Menu/>\r\n        <Filter/>\r\n        <Card.Group itemsPerRow={4}>\r\n          {!isReady\r\n            ? 'Loading...'\r\n            : books.map((book, i) => <BookCard key={i} {...book} />)}\r\n        </Card.Group>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const SET_BOOKS = 'BooksStore/redux/reducers/SET-BOOKS';\r\nconst SET_IS_READY = 'BooksStore/redux/reducers/SET-IS-READY';\r\n\r\n\r\nconst initialState = {\r\n   isReady: false,\r\n  items: []\r\n};\r\n\r\nconst booksReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_BOOKS:\r\n      return {\r\n        ...state,\r\n        items: action.payload,\r\n        isReady: true\r\n      };\r\n    case SET_IS_READY:\r\n      return {\r\n        ...state,\r\n        isReady: action.payload\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport const setBooks = books => ({\r\n  type: SET_BOOKS,\r\n  payload: books\r\n});\r\n\r\nexport default  booksReducer;","import {connect} from 'react-redux';\r\nimport App from './App';\r\nimport orderBy from 'lodash/orderBy';\r\nimport {setBooks} from \"../redux/reducers/books\";\r\n\r\nconst sortBy = (books, filterBy) => {\r\n    switch (filterBy) {\r\n        case 'price_high':\r\n            return orderBy(books, 'price', 'desc');\r\n        case 'price_low':\r\n            return orderBy(books, 'price', 'asc');\r\n        case 'author':\r\n            return orderBy(books, 'author', 'asc');\r\n        default:\r\n            return books;\r\n    }\r\n};\r\n\r\nconst filterBooks = (books, searchQuery) =>\r\n    books.filter(obj =>\r\n        obj.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0\r\n        || obj.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0);\r\n\r\nconst searchBooks = (books, filterBy, searchQuery) => {\r\n    return sortBy(filterBooks(books, searchQuery), filterBy);\r\n};\r\n\r\nconst mapStateToProps = ({books, filter}) => ({\r\n    books: books.items && searchBooks(books.items, filter.filterBy, filter.searchQuery),\r\n    isReady: books.isReady,\r\n});\r\n\r\nexport default connect(mapStateToProps, {setBooks})(App);\r\n","import {createStore, applyMiddleware, compose} from 'redux';\r\nimport logger from 'redux-logger';\r\nimport {combineReducers} from 'redux';\r\nimport booksReducer from '../redux/reducers/books';\r\nimport cartReducer from '../redux/reducers/cart';\r\nimport filterReducer from '../redux/reducers/filter';\r\n\r\nlet reducers = combineReducers({\r\n    books: booksReducer,\r\n    cart: cartReducer,\r\n    filter: filterReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(logger)\r\n));\r\n\r\nwindow._store_ = store;\r\nexport default store\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport './app.css';\r\nimport App from './components/AppContainer';\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}