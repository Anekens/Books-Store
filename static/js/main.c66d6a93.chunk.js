(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{188:function(e,t,r){e.exports=r(359)},198:function(e,t,r){},359:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(27),o=r.n(c),i=r(22),l=(r(197),r(198),r(157)),u=r(158),s=r(177),d=r(159),p=r(178),m=r(367),f=r(371),y=r(160),O=r.n(y),b=r(175),E=r(31),h=r(360),v=function(e){return a.a.createElement(f.a,null,a.a.createElement("div",{className:"card-image"},a.a.createElement(b.a,{src:e.image})),a.a.createElement(f.a.Content,null,a.a.createElement(f.a.Header,null,e.title),a.a.createElement(f.a.Meta,null,a.a.createElement("span",{className:"date"},e.author))),a.a.createElement(f.a.Content,{extra:!0},a.a.createElement("a",null,a.a.createElement(E.a,{name:"rub"}),e.price)),a.a.createElement(h.a,{onClick:e.addToCart.bind(void 0,e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",e.addedCount>0&&"(".concat(e.addedCount,")")))},g=r(176),j=r(45);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach((function(t){Object(j.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C="BooksStore/redux/reducers/ADD-TO-CART",P="BooksStore/redux/reducers/REMOVE-FROM-CART",S={items:[]},D=function(e){return{type:C,payload:e}},B=function(e){return{type:P,payload:e}},R=Object(i.b)((function(e,t){var r=e.cart,n=t.id;return{addedCount:r.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),{addToCart:D,removeFromCart:B})(v),_=r(372),I=r(366),T=function(e){var t=e.setFilter,r=e.filterBy,n=e.searchQuery,c=e.setSearchQuery;return a.a.createElement(_.a,{secondary:!0},a.a.createElement(_.a.Item,{active:"all"===r,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),a.a.createElement(_.a.Item,{active:"price_high"===r,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u0430 (\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),a.a.createElement(_.a.Item,{active:"price_low"===r,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u0430 (\u0434\u0435\u0448\u0435\u0432\u044b\u0435)"),a.a.createElement(_.a.Item,{active:"author"===r,onClick:t.bind(void 0,"author")},"\u0410\u0432\u0442\u043e\u0440"),a.a.createElement(_.a.Item,null,a.a.createElement(I.a,{icon:"search",onChange:function(e){return c(e.target.value)},value:n,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441..."})))};function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(r,!0).forEach((function(t){Object(j.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q="BooksStore/redux/reducers/SET-QUERY",L="BooksStore/redux/reducers/SET-FILTER",M={searchQuery:"",filterBy:"all"},A=Object(i.b)((function(e){return{filterBy:e.filter.filterBy}}),{setFilter:function(e){return{type:L,payload:e}},setSearchQuery:function(e){return{type:Q,payload:e}}})(T),N=r(370),J=r(369),U=function(e){var t=e.title,r=e.id,n=e.image,c=e.removeFromCart;return a.a.createElement(N.a,{selection:!0,divided:!0,verticalAlign:"middle"},a.a.createElement(N.a.Item,null,a.a.createElement(N.a.Content,{floated:"right"},a.a.createElement(h.a,{onClick:c.bind(void 0,r),color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),a.a.createElement(b.a,{avatar:!0,src:n}),a.a.createElement(N.a.Content,null,t)))},V=function(e){var t=e.totalPrice,r=e.count,n=e.items;return a.a.createElement(_.a,null,a.a.createElement(_.a.Item,{name:"browse"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),a.a.createElement(_.a.Menu,{position:"right"},a.a.createElement(_.a.Item,{name:"signup"},"\u0418\u0442\u043e\u0433\u043e: \xa0 ",a.a.createElement("b",null,t),"\xa0\u0440\u0443\u0431."),a.a.createElement(J.a,{trigger:a.a.createElement(_.a.Item,{name:"help"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",a.a.createElement("b",null,r),")"),content:n.map((function(e){return a.a.createElement(U,e)})),on:"click",hideOnScroll:!0})))},X=r(173),Y=r.n(X),G=Object(i.b)((function(e){var t=e.cart;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:Y()(t.items,(function(e){return e.id}))}}),{addToCart:D,removeFromCart:B})(V),H=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.setBooks;O.a.get("/books.json").then((function(t){var r=t.data;e(r)}))}},{key:"render",value:function(){var e=this.props,t=e.books,r=e.isReady;return a.a.createElement(m.a,null,a.a.createElement(G,null),a.a.createElement(A,null),a.a.createElement(f.a.Group,{itemsPerRow:4},r?t.map((function(e,t){return a.a.createElement(R,Object.assign({key:t},e))})):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."))}}]),t}(n.Component),K=r(77),W=r.n(K);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(r,!0).forEach((function(t){Object(j.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z="BooksStore/redux/reducers/SET-BOOKS",$="BooksStore/redux/reducers/SET-IS-READY",ee={isReady:!1,items:null},te=function(e,t,r){return function(e,t){switch(t){case"price_high":return W()(e,"price","desc");case"price_low":return W()(e,"price","asc");case"author":return W()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,r),t)},re=Object(i.b)((function(e){var t=e.books,r=e.filter;return{books:t.items&&te(t.items,r.filterBy,r.searchQuery),isReady:t.isReady}}),{setBooks:function(e){return{type:Z,payload:e}}})(H),ne=r(35),ae=r(174),ce=r.n(ae),oe=Object(ne.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return z({},e,{items:t.payload,isReady:!0});case $:return z({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return k({},e,{items:[].concat(Object(g.a)(e.items),[t.payload])});case P:return k({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return F({},e,{searchQuery:t.payload});case L:return F({},e,{filterBy:t.payload});default:return e}}}),ie=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ne.d,le=Object(ne.e)(oe,ie(Object(ne.a)(ce.a)));window._store_=le;var ue=le;o.a.render(a.a.createElement(i.a,{store:ue},a.a.createElement(re,null)),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.c66d6a93.chunk.js.map